
# Install
sudo apt-get install postgresql-client
sudo apt-get install postgresql

After installation, there is a default user "postgres" and a default database "postgres".
Default postgresSQL is running with port 5432


# Add a new user
sudo useradd jingdian

# Into command
su - postgres
psql
\password postgres

# Create a new user in database
CREATE USER jingdian WITH PASSWORD 'jingdian';
CREATE DATABASE yinhublog OWNER jingdian;
GRANT ALL PRIVILEGES ON DATABASE yinhublog to jingdian;

# Connect
psql -U jingdian -d jingdian -h 127.0.0.1 -p 5432

\?              show help command
\h              show help command
\l              show databases
\c <db>         connect to another db
\dt             show all tables
\d <table>      show specific table structure

drop database <db name>

# pgsql datatype
smallint    2 bytes
integer     4 bytes
bigint      8 bytes
decimal     variable
numeric     variable
real        4 bytes
double      8 bytes
serial      4 bytes
bigserial   8 bytes
varchar(n)  variable max is n
char(n)     fix length n
text

# SQL
SELECT * FROM <table>;
INSERT INTO "district" VALUES (7042,'北京',0,'b','bj','beijing','','市','110000','010',true);
UPDATE <table> SET <column_name1> = <value1> WHERE <column_name2> = <value2>
ALTER TABLE "index_jingdian_10" RENAME COLUMN "jd_name_py" TO "jd_name_pinyin"
ALTER TABLE "district" ADD <column_name> <datatype>;
alter table db_browser_performancedata owner to test

# Dump sql
# Backup table
pg_dump -U <user> -W -t <table> <database> > ./dump.sql
# Backup database
pg_dump -U <user> -W <database> > ./db.dump

# Convert MySQL to pgsql
mysqldump --compatible=postgresql --default-character-set=utf8 -r district.mysql -u root -p district
python db_converter.py district.mysql databasename.psql
psql -f databasename.psql

